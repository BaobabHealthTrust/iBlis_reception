<style>

body {
  -moz-user-select: none;
}

/* ............. footer ....................... */

.footer {
  bottom: 6px;
  height: 100px;
  position: fixed;
  width: 97.7%;
  background-color: #333333;
  display: block;
  height: 80px;
  padding-right: 20px;
}

.btn-home {
  background-image: linear-gradient(to bottom, #5cb85c 0px, #5cb85c 100%);
  background-repeat: repeat-x;
  border-color: #5cb85c;
  margin-top: 10px;
  margin-left: 10px;
  min-width: 140px;
  float: left;
 -moz-user-select: none;
  border: 0 none;
  color: white;
  cursor: pointer;
  font-weight: bold;
  height: 80%;
}

.btn-new-test {
  background-image: linear-gradient(to bottom, #5bc0de 0px, #5bc0de 100%);
  background-repeat: repeat-x;
  border-color: #5bc0de;
  margin-top: 10px;
  margin-left: 10px;
  min-width: 140px;
  float: right;
 -moz-user-select: none;
  border: 0 none;
  color: white;
  cursor: pointer;
  font-weight: bold;
  height: 80%;
}

/* ............. footer end ....................... */

.logo {
  width: 12%;
  height: 15%;
}


#barcode-txt {
  border-color: black;
  border-style: solid;
  border-width: 0 0 1px;
  font-size: 30px;
  margin: 3% 4%;
  width: 80%;
  float: right;
}

#header {
  display: table;
}

#row  {
  display: table-row;
}

#left, #right, #middle {
  display: table-cell;
}

#header div {
  vertical-align: middle;
  width: 100%;
}

#test-status {
  font-size: 30px;
}

/* .......... body ....................... */

</style>



<div id="header">
  <div id="row">

    <div id="left" style="width: 70%;">
      <span class="icons"><%= image_tag("extras/barcode-2.png", class: "logo") %></span>
      <input type="text" name="scanned-barcode" id="barcode-txt" />
    </div>

    <div id="middle" style="text-align: right;">
      <label><b>Test Status:</b></label>
    </div>

    <div id="right">
      <select name="test-status" id="test-status">
        <option value=''>&nbsp;</option>
        <option value='0'>All</option>
        <%(TestStatus.all || []).each do |status|%>
          <option value=<%=status.id%>>Test&nbsp;<%=status.name%></option>
        <%end%>
      </select>
    </div>

  </div>
</div>


<script>
    function popup(){
        var popup =  document.createElement("popup");
        popup.id = "popup";
        popup.style.display = "absolute";
        document.appendChild(popup);

    }
</script>
<div class="tests-div">
  <div class="row header-row">
    <div class="left primary-row" style="width: 15%;">
      <label><b>Date Ordered</b></label>
    </div>
    <div class="middle-1 primary-row" style="width: 8%;">
      <label><b>Patient No.</b></label>
    </div>
    <div class="middle-3 primary-row" style="width: 20%;">
      <label><b>Patient name</b></label>
    </div>
    <div class="middle-4 primary-row" style="width: 12%;">
      <label><b>Specimen ID</b></label>
    </div>
    <div class="middle-5 primary-row" style="width: 20%;">
      <label><b>Test</b></label>
    </div>
    <div class="middle-6 primary-row" style="width: 15%;">
      <label><b>Test Location</b></label>
    </div>
    <div class="right primary-row" style="width: 16%">
      <label><b>Test Status:</b></label>
    </div>
  </div>

  <%(@tests || {}).each do |specimen_id, tests| %>

      <%(tests || {}).each do |name, test|%>
        <div class="row <%= cycle('even', 'odd')%>" onclick="javascript:alert('<%=test[:test_id]%>');">
          <div class="left" style="width: 15%;">
            <label class="data"><%=test[:date_ordered]%></label>
          </div>
          <div class="middle-1" style="width: 8%;">
            <label class="data"><%=test[:patient_number]%></label>
          </div>
          <div class="middle-3" style="width: 20%;">
            <label class="data"><%=test[:patient_name]%></label>
          </div>
          <div class="middle-4" style="width: 12%">
            <label class="data"><%=test[:accession_number]%></label>
          </div>
          <div class="middle-5" style="width: 20%;">
            <label class="data"><%=name%></label>
          </div>
          <div class="middle-6" style="width: 15%;">
            <label class="data"><%=test[:location]%></label>
          </div>
          <div class="right" style="width: 16%">
            <label class="data"><%=test[:specimen_status]%></label>
          </div>
        </div>
        <%break%>
      <%end%>
    <%end%>


</div>  

<div class="footer">
  <button class="btn-home" onmousedown="document.location='/'">|< Back Home</button>
  <button class="btn-new-test" onmousedown="document.location='/';">New test</button>
</div>

<style>
.primary-row {
    background-color: lightgray;

}

.tests-div {
  background-color: #f9f9f9;
  display: flex;
  height: 70vh;
  overflow: auto;
  width: 100%;
}

.row div {
  cursor: pointer;
  border-spacing: 0px;
  padding-top: 1.2%;
  padding-bottom: 1.2%;
  border-style: solid;
  border-width: 1px 0px 0px 0px;
  padding-left: 2px;
}

.row  {
  display: table-row;
}

.left, .right, .middle-1,.middle-2,.middle-3,.middle-4,.middle-5,.middle-6 {
  display: table-cell;
}

.data {
  padding-left: 10px;
}

.even{
    background-color: transparent !important;
}
.odd{
    background-color: white;
}
</style>
